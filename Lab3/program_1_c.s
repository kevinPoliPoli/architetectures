    .data

v1: .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1
    .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1
    .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1
    .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1
    .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1
    .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1
    .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1

v2: .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1
    .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1
    .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1
    .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1
    .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1
    .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1
    .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1

v3: .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1
    .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1
    .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1
    .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1
    .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1
    .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1
    .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1

v4: .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1
    .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1
    .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1
    .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1
    .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1
    .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1
    .double 1.1,2.2,3.3,4.4,5.5,6.6,7.7,8.8,9.9,10.1
    
v5: .space 480
v6: .space 480
v7: .space 480

    .text

;r8 contains the intex of the arrays
;r9 contains the lenght of the arrays
;f10 contains values of v5
;f11 contains values of v6
;f12 contains values of v7

main:   daddi r8,r0,0
        daddi r9,r0,472

loop:   ;UNROLL 1
        l.d f1,v1(r8)
        l.d f2,v2(r8)
        l.d f3,v3(r8)
        l.d f4,v4(r8)

        mul.d f6,f4,f1
        add.d f5,f1,f2
        add.d f7,f2,f3

        mul.d f5,f5,f3
        add.d f5,f5,f4
        div.d f6,f5,f6
        mul.d f7,f6,f7

        s.d f5,v5(r8)
        s.d f6,v6(r8)
        s.d f7,v7(r8)

        daddi r8,r8,8

        ;UNROLL 2

        l.d f1,v1(r8)
        l.d f2,v2(r8)
        l.d f3,v3(r8)
        l.d f4,v4(r8)

        mul.d f6,f4,f1
        add.d f5,f1,f2
        add.d f7,f2,f3

        mul.d f5,f5,f3
        add.d f5,f5,f4
        div.d f6,f5,f6
        mul.d f7,f6,f7

        s.d f5,v5(r8)
        s.d f6,v6(r8)
        s.d f7,v7(r8)

        daddi r8,r8,8


        ;UNROLL 3

        l.d f1,v1(r8)
        l.d f2,v2(r8)
        l.d f3,v3(r8)
        l.d f4,v4(r8)

        mul.d f6,f4,f1
        add.d f5,f1,f2
        add.d f7,f2,f3

        mul.d f5,f5,f3
        add.d f5,f5,f4
        div.d f6,f5,f6
        mul.d f7,f6,f7

        s.d f5,v5(r8)
        s.d f6,v6(r8)
        s.d f7,v7(r8)
        
        bne r8,r9,loop
        daddi r8,r8,8
 
exit: halt